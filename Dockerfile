###################################################################################################

FROM katherinealbany/athena:stable

###################################################################################################

MAINTAINER Katherine Albany

###################################################################################################

ENV URL    https://releases.hashicorp.com/vault/0.4.0/vault_0.4.0_linux_amd64.zip
ENV SHA256 28dc1757b6453905dd4b5e45139dc2c3a54e0988a4eafe6e6bdb5e009b8d6b1d

###################################################################################################

ENV DEBIAN_FRONTEND noninteractive
RUN apt-get update && apt-get install --no-install-recommends --quiet --yes ca-certificates wget

###################################################################################################

USER    ${USER}
WORKDIR ${HOME}

###################################################################################################

RUN wget --progress=dot:binary --output-document=- ${URL} | uncompress > vault                    \
 && echo "${SHA256} vault" | sha256sum -c                                                         \
 && chown ${USER}:${USER} vault                                                                   \
 && chmod 700 vault

###################################################################################################

ENTRYPOINT ["./vault"]

###################################################################################################

CMD ["--help"]

###################################################################################################
